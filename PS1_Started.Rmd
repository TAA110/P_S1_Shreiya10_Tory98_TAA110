---
title: 'Problem Set 1:Getting Started Key'
author: "Claire Duquennois"
output:
  pdf_document:
    number_sections: true
  html_document:
    number_sections: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
**Group Member 1: Your name here**
Tory    
**Group Member 2: Your name here**
Tesfa
**Group Member 3: Your name here**
Shreiya



```{r example}
#This is a comment, alone in a chunk. 

```

In the following chunk I generate simulated data consisting of two correlated variables. Notice the chunk setting is set to suppress the warning messages that are generated when R loads a package. 

```{r sim1,  warning=FALSE}
library(MASS)
library(ggplot2)

out <- as.data.frame(mvrnorm(1000, mu = c(0,0), 
                     Sigma = matrix(c(1,0.8,0.8,1), ncol = 2), 
                     empirical = TRUE))
cor(out)
plot(out)

```

Next I generate a randomly distributed error term and I calculate the outcome variable which depends on both V1 and V2 and some noise:

$$Y=\beta_1V_1+\beta_2V_2+\epsilon$$

```{r sim2}
out$error<-rnorm(1000, mean=0, sd=1)

#The data generating process
B1<-3
B2<-6

out$Y<-out$V1*B1+out$V2*B2+out$error
```

**TO DO: For the questions below write the needed code and a written response to the question. **

## Question:
**Write a chunk in which you regress $Y$ on $V_1$ and $V_2$. Are your estimates of $\beta_1$ and $\beta_2$ biased?**

```{r}
model<-lm(Y~V1+V2, out)
summary(model)
```


**Answer: Our results are not biased because we have accounted for all variables that affect Y.**


## Question: 
**Write a chunk in which you regress $Y$ on $V_1$ only. Is your estimate of $\beta_1$ biased?**

```{r}
model2<-lm(Y~V1, out)
summary(model2)
```


**Answer: Our estimate of $\beta_1$ is biased because we failed to account for the second variable. This means that $\beta_1$ is capturing some of the effect from $V_2$**


## Question: 
**Generate a new variable $Y_{adj}$ such that $Y_{adj}=Y-\beta_2*V_2$. Then regress $Y_{adj}$ on $V_1$. Is your estimate of $\beta_1$ biased? Can you explain why/why not?**

```{r}
out$Y_adj<-out$Y-6*out$V2
model3<-lm(Y_adj~V1, out)
summary(model3)
```


**Answer: Our estimate of $\beta_1$ is not biased because we accounted for V2 before we ran the regression, which means $\beta_1$ for Y_adjusted is only capturing the effect of V1.**


## Question: 
**The code below generates a scatter plot and regression line for the relationship between $V_1$ and $Y$ as well as $V_1$ and $Y_{adj}$. Submit an improved visualization of this data. Hint: you will need to delete the # to get the code to run **

```{r key 4}
#plotted<-ggplot(out, aes(V1, y = value, color = variable)) + 
#    geom_point(aes(y = Y, col = "Y")) + 
#    geom_point(aes(y = adjY, col = "adjY"))+
#    geom_smooth(method='lm', aes(y = Y, col = "Y"))+
#    geom_smooth(method='lm', aes(y = adjY, col = "Y"))

#plotted

```
**Answer:**



## Question: 
**Load the `cps_clean.csv' dataset (available on Canvas). Regress income on education and interpret the coefficient.  **
<<<<<<< HEAD
```{r}
cps <- read.csv('cps_clean.csv')
```


```{r}
new<-lm(inctot~edu, cps)
summary(new)
```

=======
>>>>>>> cf16c4c1bbf5c1196e7598c0e9979989c7425218

**Answer:**


## Question: 
**Add additional control variables to the regression you estimated above. How does this change your interpretation of the coefficient on education?**
**Answer:**

# Submission instructions:

1) Make sure the final version of your assignment is uploaded on GitHub in both html and Rmarkdown format. 






